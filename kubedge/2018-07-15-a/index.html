<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https:\/\/jbrette.github.io\/"
        },
        "articleSection" : "kubedge",
        "name" : "Recompile Kubernetes components for Raspberry PI",
        "headline" : "Recompile Kubernetes components for Raspberry PI",
        "description" : "Goal During the installation of official Kubernetes 1.11.0 on RPI Cluster 1, encountered a bug on the controller manager preventing the controller-manager from starting. The problem here was to be able to cross compiled the latest version of Kubernetes 1.11.1 before the code was officially released and of course rebuild the images.\nKey Aspects  The bug had been fixed by the Kubernetes kube-controller-manager - panic: runtime error: index out of range has been fixed and will be built as part of 1.",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2018",
        "datePublished": "2018-07-15 00:00:00 \u002b0000 UTC",
        "dateModified" : "2018-07-15 00:00:00 \u002b0000 UTC",
        "url" : "https:\/\/jbrette.github.io\/kubedge\/2018-07-15-a\/",
        "wordCount" : "1226",
        "keywords" : [ "kubedge","kubernetes","rpi","Blog" ]
    }
    </script>
        
            
                <title>Recompile Kubernetes components for Raspberry PI</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.92.2" />
        


        
            <meta name="author" content="Jerome Brette">
        
        
            
                <meta name="description" content="Jerome Brette&#39;s Blog">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Recompile Kubernetes components for Raspberry PI"/>
<meta name="twitter:description" content="Goal During the installation of official Kubernetes 1.11.0 on RPI Cluster 1, encountered a bug on the controller manager preventing the controller-manager from starting. The problem here was to be able to cross compiled the latest version of Kubernetes 1.11.1 before the code was officially released and of course rebuild the images.
Key Aspects  The bug had been fixed by the Kubernetes kube-controller-manager - panic: runtime error: index out of range has been fixed and will be built as part of 1."/>
<meta name="twitter:site" content="@example"/>

        <meta property="og:title" content="Recompile Kubernetes components for Raspberry PI" />
<meta property="og:description" content="Goal During the installation of official Kubernetes 1.11.0 on RPI Cluster 1, encountered a bug on the controller manager preventing the controller-manager from starting. The problem here was to be able to cross compiled the latest version of Kubernetes 1.11.1 before the code was officially released and of course rebuild the images.
Key Aspects  The bug had been fixed by the Kubernetes kube-controller-manager - panic: runtime error: index out of range has been fixed and will be built as part of 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jbrette.github.io/kubedge/2018-07-15-a/" /><meta property="article:section" content="kubedge" />
<meta property="article:published_time" content="2018-07-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-07-15T00:00:00+00:00" />


        <meta property="og:image" content="https://jbrette.github.io//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        <meta itemprop="name" content="Recompile Kubernetes components for Raspberry PI">
<meta itemprop="description" content="Goal During the installation of official Kubernetes 1.11.0 on RPI Cluster 1, encountered a bug on the controller manager preventing the controller-manager from starting. The problem here was to be able to cross compiled the latest version of Kubernetes 1.11.1 before the code was officially released and of course rebuild the images.
Key Aspects  The bug had been fixed by the Kubernetes kube-controller-manager - panic: runtime error: index out of range has been fixed and will be built as part of 1."><meta itemprop="datePublished" content="2018-07-15T00:00:00+00:00" />
<meta itemprop="dateModified" content="2018-07-15T00:00:00+00:00" />
<meta itemprop="wordCount" content="1226">
<meta itemprop="keywords" content="kubedge,kubernetes,rpi," />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://jbrette.github.io/css/main.css">
            <link rel="stylesheet" href="https://jbrette.github.io/css/add-on.css">
            <link rel="stylesheet" href="https://jbrette.github.io/css/academicons.min.css">
        

        
            
                
            
        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123357787-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="https://jbrette.github.io/">kubedge</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://jbrette.github.io/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/post/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/kubedge/">
                            <i class="fas fa-atom">&nbsp;</i>Kubedge
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/iot/">
                            <i class="">&nbsp;</i>IoT
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/ai_ml/">
                            <i class="">&nbsp;</i>AI &amp; ML
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/blockchain/">
                            <i class="">&nbsp;</i>BlockChain
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/misc/">
                            <i class="">&nbsp;</i>Other
                    </a>
                </li>
            
                <li>
                    <a href="https://jbrette.github.io/tags/">
                            <i class="fa fa-list">&nbsp;</i>Tags
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://jbrette.github.io/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://jbrette.github.io/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://jbrette.github.io/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/post/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/kubedge/">
                            <h3>
                                <i class="fas fa-atom">&nbsp;</i>Kubedge
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/iot/">
                            <h3>
                                <i class="">&nbsp;</i>IoT
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/ai_ml/">
                            <h3>
                                <i class="">&nbsp;</i>AI &amp; ML
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/blockchain/">
                            <h3>
                                <i class="">&nbsp;</i>BlockChain
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/misc/">
                            <h3>
                                <i class="">&nbsp;</i>Other
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jbrette.github.io/tags/">
                            <h3>
                                <i class="fa fa-list">&nbsp;</i>Tags
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://jbrette.github.io/post/">Post</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-10-03'>
                                    October 3, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://jbrette.github.io/post/2018-10-03-a/">Prometheus</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-10-03'>
                                    October 3, 2018</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="https://jbrette.github.io/post/2018-10-03-a/" class="image featured">
            <img src="https://jbrette.github.io/img/2018/10/load-node-stack1.png" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://jbrette.github.io/post/2018-09-28-a/">Rolling Upgrade</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-09-28'>
                                    September 28, 2018</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="https://jbrette.github.io/post/2018-09-28-a/" class="image featured">
            <img src="https://jbrette.github.io/img/2018/09/rolling-upgrade.jpg" alt="">
        </a>
    


                        </article>
                

                
                    <a href=
                        
                            /post/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;text=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI&amp;via=example" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>




<li>
  <a href="//plus.google.com/share?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>





<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;title=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;title=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>




<li>
  <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;title=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>




<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;description=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Check out this post by Jerome%20Brette&amp;body=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="https://jbrette.github.io/kubedge/2018-07-15-a/">Recompile Kubernetes components for Raspberry PI</a></h1>
            
        
        
    </div>
    <div class="meta">

      <span class="author">Jerome Brette</span>
      <span class="author">deprecated</span>
      
        <a href="https://kubedge.cloud/pi_cluster/" target="_blank">Moved to KUBEDGE</a>
      
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;text=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI&amp;via=example" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>




<li>
  <a href="//plus.google.com/share?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>





<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;title=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;title=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>




<li>
  <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;title=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>




<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f&amp;description=Recompile%20Kubernetes%20components%20for%20Raspberry%20PI" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Check out this post by Jerome%20Brette&amp;body=https%3a%2f%2fjbrette.github.io%2fkubedge%2f2018-07-15-a%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


      </ul>
    </section>
  

  
  <div id="content">
    <h1 id="goal">Goal</h1>
<p>During the installation of official Kubernetes 1.11.0 on RPI Cluster 1,
encountered a bug on the controller manager preventing the controller-manager from starting.
The problem here was to be able to cross compiled the latest version of Kubernetes 1.11.1 before the code was officially released and of course rebuild the images.</p>
<h2 id="key-aspects">Key Aspects</h2>
<ul>
<li>The bug had been fixed by the Kubernetes <a href="https://github.com/kubernetes/kubernetes/issues/65674">kube-controller-manager - panic: runtime error: index out of range</a>
has been fixed and will be built as part of 1.11.1</li>
<li>The goal is to learn how to recompile Kubernetes from the source to be able to contribute when possible and address problems as soon as possible</li>
</ul>
<h2 id="build-kubernetes-executables-for-amd64-and-arm">Build Kubernetes executables for AMD64 and ARM</h2>
<h3 id="cross-compiling-from-ubuntu-machine">Cross Compiling from Ubuntu Machine</h3>
<p>First check the go setup. Fetch the code</p>
<p>Let&rsquo;s check the go environment. See <a href="https://jbrette.github.io/jekyll/update/2018/06/22/a.html">Setup GOLANG environment</a></p>
<pre tabindex="0"><code>$ which go

/usr/bin/go
</code></pre><pre tabindex="0"><code>$ go version

go version go1.10.1 linux/amd64
</code></pre><p>Clone the code</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ export GOPATH<span style="color:#f92672">=</span>$HOME/src
$ mkdir -p src/k8s.io
$ cd src/k8s.io
$ git clone -b release-1.11 git@github.com:kubernetes/kubernetes.git
$ cd kubernertes
</code></pre></div><p>To save time, I removed platforms I had not use of and only kept amd64 and arm on linux</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat hack/lib/golang.sh
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">  <span style="color:#75715e"># The server platform we are building on.</span>
  readonly KUBE_SERVER_PLATFORMS<span style="color:#f92672">=(</span>
    linux/amd64
    linux/arm
  <span style="color:#f92672">)</span>

  <span style="color:#75715e"># The node platforms we build for</span>
  readonly KUBE_NODE_PLATFORMS<span style="color:#f92672">=(</span>
    linux/amd64
    linux/arm
  <span style="color:#f92672">)</span>

  <span style="color:#75715e"># If we update this we should also update the set of platforms whose standard library is precompiled for in build/build-image/cross/Dockerfile</span>
  readonly KUBE_CLIENT_PLATFORMS<span style="color:#f92672">=(</span>
    linux/amd64
    linux/arm
  <span style="color:#f92672">)</span>

  <span style="color:#75715e"># Which platforms we should compile test targets for. Not all client platforms need these tests</span>
  readonly KUBE_TEST_PLATFORMS<span style="color:#f92672">=(</span>
    linux/amd64
    linux/arm
  <span style="color:#f92672">)</span>

</code></pre></div><p>Double check your Docker setup is correct</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker run hello-world
</code></pre></div><p>Clean the directory</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ./build/make-clean.sh
</code></pre></div><p>Rebuild the amd64 and arm executable</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ./build/run.sh make cross
</code></pre></div><p>Check the executables transfered from the docker build container to your vm by rsync</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd _output/dockerized/bin/linux
</code></pre></div><p>Check the amd64 executables</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ls -lt amd64

total <span style="color:#ae81ff">2322696</span>
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">209961168</span> Jul <span style="color:#ae81ff">16</span> 01:57 e2e_node.test
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">10645252</span> Jul <span style="color:#ae81ff">16</span> 01:57 ginkgo
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">160051600</span> Jul <span style="color:#ae81ff">16</span> 01:57 kubemark
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">231997872</span> Jul <span style="color:#ae81ff">16</span> 01:55 genman
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">54099081</span> Jul <span style="color:#ae81ff">16</span> 01:55 gendocs
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">54039865</span> Jul <span style="color:#ae81ff">16</span> 01:55 genyaml
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">6694536</span> Jul <span style="color:#ae81ff">16</span> 01:55 linkcheck
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">5481582</span> Jul <span style="color:#ae81ff">16</span> 01:55 genswaggertypedocs
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">226061456</span> Jul <span style="color:#ae81ff">16</span> 01:55 genkubedocs
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">173411368</span> Jul <span style="color:#ae81ff">16</span> 01:55 e2e.test
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">55241186</span> Jul <span style="color:#ae81ff">16</span> 01:52 kubectl
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">51912114</span> Jul <span style="color:#ae81ff">16</span> 01:52 kube-proxy
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">57246829</span> Jul <span style="color:#ae81ff">16</span> 01:51 kubeadm
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">162716256</span> Jul <span style="color:#ae81ff">16</span> 01:51 kubelet
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">57908740</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-aggregator
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">185152632</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-apiserver
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">2330265</span> Jul <span style="color:#ae81ff">16</span> 01:50 mounter
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">138048783</span> Jul <span style="color:#ae81ff">16</span> 01:50 cloud-controller-manager
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">153798994</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-controller-manager
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">227283184</span> Jul <span style="color:#ae81ff">16</span> 01:50 hyperkube
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">59296776</span> Jul <span style="color:#ae81ff">16</span> 01:50 apiextensions-apiserver
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">55471235</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-scheduler
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">2835466</span> Jul <span style="color:#ae81ff">16</span> 01:40 go-bindata
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">13630237</span> Jul <span style="color:#ae81ff">16</span> 01:40 openapi-gen
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">7699847</span> Jul <span style="color:#ae81ff">16</span> 01:40 conversion-gen
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">7669238</span> Jul <span style="color:#ae81ff">16</span> 01:39 defaulter-gen
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">7695690</span> Jul <span style="color:#ae81ff">16</span> 01:39 deepcopy-gen
</code></pre></div><p>Check the RPI executables</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -lt arm

total <span style="color:#ae81ff">2089216</span>
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">191189688</span> Jul <span style="color:#ae81ff">16</span> 01:58 e2e_node.test
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">9286102</span> Jul <span style="color:#ae81ff">16</span> 01:58 ginkgo
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">142111524</span> Jul <span style="color:#ae81ff">16</span> 01:58 kubemark
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">210989712</span> Jul <span style="color:#ae81ff">16</span> 01:55 genman
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">48169969</span> Jul <span style="color:#ae81ff">16</span> 01:55 gendocs
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">48102745</span> Jul <span style="color:#ae81ff">16</span> 01:55 genyaml
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">5847821</span> Jul <span style="color:#ae81ff">16</span> 01:55 linkcheck
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">4927730</span> Jul <span style="color:#ae81ff">16</span> 01:55 genswaggertypedocs
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">205458748</span> Jul <span style="color:#ae81ff">16</span> 01:55 genkubedocs
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">155653412</span> Jul <span style="color:#ae81ff">16</span> 01:55 e2e.test
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">49252169</span> Jul <span style="color:#ae81ff">16</span> 01:52 kubectl
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">46156229</span> Jul <span style="color:#ae81ff">16</span> 01:52 kube-proxy
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">50989514</span> Jul <span style="color:#ae81ff">16</span> 01:52 kubeadm
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">144291264</span> Jul <span style="color:#ae81ff">16</span> 01:52 kubelet
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">52024300</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-aggregator
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">168751462</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-apiserver
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">2231154</span> Jul <span style="color:#ae81ff">16</span> 01:50 mounter
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">122701327</span> Jul <span style="color:#ae81ff">16</span> 01:50 cloud-controller-manager
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">136828051</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-controller-manager
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy <span style="color:#ae81ff">206769888</span> Jul <span style="color:#ae81ff">16</span> 01:50 hyperkube
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">53220784</span> Jul <span style="color:#ae81ff">16</span> 01:50 apiextensions-apiserver
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">49501810</span> Jul <span style="color:#ae81ff">16</span> 01:50 kube-scheduler
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">2649635</span> Jul <span style="color:#ae81ff">16</span> 01:40 go-bindata
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy  <span style="color:#ae81ff">11885551</span> Jul <span style="color:#ae81ff">16</span> 01:40 openapi-gen
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">6770458</span> Jul <span style="color:#ae81ff">16</span> 01:40 conversion-gen
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">6764729</span> Jul <span style="color:#ae81ff">16</span> 01:39 defaulter-gen
-rwxr-xr-x <span style="color:#ae81ff">1</span> xxxxxx yyyyyy   <span style="color:#ae81ff">6770309</span> Jul <span style="color:#ae81ff">16</span> 01:39 deepcopy-gen
</code></pre></div><p>Transfer the binaries to RPI machine</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">scp -r arm  rpiuser@192.168.1.94:/home/rpiuser/kubernetes_binaries
</code></pre></div><h2 id="build-the-docker-image">Build the docker image</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mkdir -p images/kube-controller-manager
$ cd images/kube-controller-manager
$ cp $HOME/kubernetes_binaries/kube-controller-manager
</code></pre></div><p>Create a simple Dockerfile to update the executable</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat Dockerfile
</code></pre></div><pre tabindex="0"><code>FROM k8s.gcr.io/kube-controller-manager-arm:v1.11.0

COPY kube-controller-manager /usr/local/bin/kube-controller-manager
</code></pre><p>Build the image</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker build -t jbrette/kube-controller-manager-arm:v1.11.1
</code></pre></div><p>Because of the brute force approach the image is twice as big since the executable (130MB) is
contained in two layers of the container image</p>
<pre tabindex="0"><code>$ docker image list

REPOSITORY                               TAG                 IMAGE ID            CREATED             SIZE
jbrette/kube-controller-manager-arm      v1.11.1             b7023eef8fdf        8 hours ago         275MB
k8s.gcr.io/kube-apiserver-arm            v1.11.0             383bd2c4314e        2 weeks ago         170MB
k8s.gcr.io/kube-controller-manager-arm   v1.11.0             5b25f8a97aec        2 weeks ago         138MB
k8s.gcr.io/kube-scheduler-arm            v1.11.0             555ee860fa3c        2 weeks ago         50.5MB
k8s.gcr.io/kube-proxy-arm                v1.11.0             d7ebe361fe95        2 weeks ago         89.1MB
k8s.gcr.io/coredns                       1.1.3               7ceeb40862fb        7 weeks ago         31.3MB
k8s.gcr.io/etcd-arm                      3.2.18              ae02bf7047c8        3 months ago        221MB
quay.io/coreos/flannel                   v0.10.0-arm         c663d02f7966        5 months ago        39.9MB
k8s.gcr.io/pause-arm                     3.1                 e11a8cbeda86        6 months ago        374kB
k8s.gcr.io/pause                         3.1                 e11a8cbeda86        6 months ago        374kB
</code></pre><p>First push the controller-manager docker image to the repo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker login

$ docker push jbrette/kube-controller-manager-arm:v1.11.1
</code></pre></div><h2 id="updating-kubeadm-and-kubernetes-configuration-to-use-the-patched-images">Updating Kubeadm and Kubernetes configuration to use the patched images</h2>
<p>Because I only rebuild one image, I can not use the kubeadm feature which
allows to point to a different repo. Have to edit manually the configuration.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ more kube-controller-manager.yaml
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">v1</span>
<span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Pod</span>
<span style="color:#f92672">metadata</span>:
  <span style="color:#f92672">annotations</span>:
    <span style="color:#f92672">scheduler.alpha.kubernetes.io/critical-pod</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">creationTimestamp</span>: <span style="color:#66d9ef">null</span>
  <span style="color:#f92672">labels</span>:
    <span style="color:#f92672">component</span>: <span style="color:#ae81ff">kube-controller-manager</span>
    <span style="color:#f92672">tier</span>: <span style="color:#ae81ff">control-plane</span>
  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kube-controller-manager</span>
  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">kube-system</span>
<span style="color:#f92672">spec</span>:
  <span style="color:#f92672">containers</span>:
  - <span style="color:#f92672">command</span>:
    - <span style="color:#ae81ff">kube-controller-manager</span>
    - --<span style="color:#ae81ff">address=127.0.0.1</span>
    - --<span style="color:#ae81ff">allocate-node-cidrs=true</span>
    - --<span style="color:#ae81ff">cluster-cidr=10.244.0.0/16</span>
    - --<span style="color:#ae81ff">cluster-signing-cert-file=/etc/kubernetes/pki/ca.crt</span>
    - --<span style="color:#ae81ff">cluster-signing-key-file=/etc/kubernetes/pki/ca.key</span>
    - --<span style="color:#ae81ff">controllers=*,bootstrapsigner,tokencleaner</span>
    - --<span style="color:#ae81ff">kubeconfig=/etc/kubernetes/controller-manager.conf</span>
    - --<span style="color:#ae81ff">leader-elect=true</span>
    - --<span style="color:#ae81ff">node-cidr-mask-size=24</span>
    - --<span style="color:#ae81ff">root-ca-file=/etc/kubernetes/pki/ca.crt</span>
    - --<span style="color:#ae81ff">service-account-private-key-file=/etc/kubernetes/pki/sa.key</span>
    - --<span style="color:#ae81ff">use-service-account-credentials=true</span>
    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">jbrette/kube-controller-manager-arm:v1.11.1</span>
    <span style="color:#f92672">imagePullPolicy</span>: <span style="color:#ae81ff">IfNotPresent</span>
    <span style="color:#f92672">livenessProbe</span>:
      <span style="color:#f92672">failureThreshold</span>: <span style="color:#ae81ff">8</span>
      <span style="color:#f92672">httpGet</span>:
        <span style="color:#f92672">host</span>: <span style="color:#ae81ff">127.0.0.1</span>
        <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/healthz</span>
        <span style="color:#f92672">port</span>: <span style="color:#ae81ff">10252</span>
        <span style="color:#f92672">scheme</span>: <span style="color:#ae81ff">HTTP</span>
      <span style="color:#f92672">initialDelaySeconds</span>: <span style="color:#ae81ff">15</span>
      <span style="color:#f92672">timeoutSeconds</span>: <span style="color:#ae81ff">15</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kube-controller-manager</span>
    <span style="color:#f92672">resources</span>:
      <span style="color:#f92672">requests</span>:
        <span style="color:#f92672">cpu</span>: <span style="color:#ae81ff">200m</span>
    <span style="color:#f92672">volumeMounts</span>:
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/etc/ssl/certs</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">ca-certs</span>
      <span style="color:#f92672">readOnly</span>: <span style="color:#66d9ef">true</span>
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/etc/kubernetes/controller-manager.conf</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kubeconfig</span>
      <span style="color:#f92672">readOnly</span>: <span style="color:#66d9ef">true</span>
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/usr/libexec/kubernetes/kubelet-plugins/volume/exec</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">flexvolume-dir</span>
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/usr/share/ca-certificates</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">usr-share-ca-certificates</span>
      <span style="color:#f92672">readOnly</span>: <span style="color:#66d9ef">true</span>
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/usr/local/share/ca-certificates</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">usr-local-share-ca-certificates</span>
      <span style="color:#f92672">readOnly</span>: <span style="color:#66d9ef">true</span>
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/etc/ca-certificates</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">etc-ca-certificates</span>
      <span style="color:#f92672">readOnly</span>: <span style="color:#66d9ef">true</span>
    - <span style="color:#f92672">mountPath</span>: <span style="color:#ae81ff">/etc/kubernetes/pki</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">k8s-certs</span>
      <span style="color:#f92672">readOnly</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#f92672">hostNetwork</span>: <span style="color:#66d9ef">true</span>
  <span style="color:#f92672">priorityClassName</span>: <span style="color:#ae81ff">system-cluster-critical</span>
  <span style="color:#f92672">volumes</span>:
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/etc/kubernetes/pki</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">DirectoryOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">k8s-certs</span>
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/etc/ssl/certs</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">DirectoryOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">ca-certs</span>
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/etc/kubernetes/controller-manager.conf</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">FileOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">kubeconfig</span>
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/usr/libexec/kubernetes/kubelet-plugins/volume/exec</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">DirectoryOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">flexvolume-dir</span>
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/usr/share/ca-certificates</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">DirectoryOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">usr-share-ca-certificates</span>
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/usr/local/share/ca-certificates</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">DirectoryOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">usr-local-share-ca-certificates</span>
  - <span style="color:#f92672">hostPath</span>:
      <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/etc/ca-certificates</span>
      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">DirectoryOrCreate</span>
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">etc-ca-certificates</span>
<span style="color:#f92672">status</span>: {}
</code></pre></div><h2 id="conclusion">Conclusion</h2>
<ul>
<li>Need to streamline the build process</li>
<li>Need to streamline the image patching processed</li>
</ul>
<h2 id="reference-links">Reference Links</h2>
<ul>
<li><a href="">Kubernetes cross build</a></li>
</ul>

  </div>

  <footer>
    <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='https://jbrette.github.io/categories/wiki'>wiki</a></li>
    
        <li><a href='https://jbrette.github.io/categories/kubedge'>kubedge</a></li>
    
</ul>

  </footer>
</article>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='https://jbrette.github.io/'><img src="https://jbrette.github.io/images/logo.png" class="intro-circle" width="" alt="avatar" /></a>
      
    
    
      <header>
        <h2>Jerome&#39;s Blog</h2>
        <p>Building my edge cloud using Raspberry PI, keep learning from the opensource community</p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="https://jbrette.github.io/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/jbrette" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/jerome-brette-109b8711" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



































  <li><a href="//twitter.com/example" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://jbrette.github.io/post/">Post</a>
              </h3>
              
              <time class="published" datetime='2018-10-03'>
                October 3, 2018
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://jbrette.github.io/post/2018-10-03-a/">Prometheus</a>
              </h3>
              
              <time class="published" datetime='2018-10-03'>
                October 3, 2018
              </time>
            </header>
            
    

    
        
        







  
  
    
  


        
        
        

        <a href="https://jbrette.github.io/post/2018-10-03-a/" class="image featured">
            <img src="https://jbrette.github.io/img/2018/10/load-node-stack1.png" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://jbrette.github.io/post/2018-09-28-a/">Rolling Upgrade</a>
              </h3>
              
              <time class="published" datetime='2018-09-28'>
                September 28, 2018
              </time>
            </header>
            
    

    
        
        







  
  
    
  


        
        
        

        <a href="https://jbrette.github.io/post/2018-09-28-a/" class="image featured">
            <img src="https://jbrette.github.io/img/2018/09/rolling-upgrade.jpg" alt="">
        </a>
    


          </article>
        
      </div>

      
        <a href=
          
            /post/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="https://jbrette.github.io/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="https://jbrette.github.io/categories/wiki/">wiki</a>
                <span style="float:right;">36</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://jbrette.github.io/categories/kubedge/">kubedge</a>
                <span style="float:right;">18</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://jbrette.github.io/categories/wip/">wip</a>
                <span style="float:right;">14</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://jbrette.github.io/categories/iot/">iot</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://jbrette.github.io/categories/ai/">ai</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://jbrette.github.io/categories/blockchain/">blockchain</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>About</h3>
      <p>About the author</p>
      <a href="https://jbrette.github.io/about/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="https://jbrette.github.io/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/jbrette" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/jerome-brette-109b8711" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



































  <li><a href="//twitter.com/example" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
    <p class="copyright">
      
        &copy; 2018
        
          Jerome Brette&#39;s Blog
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/bash.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/python.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/golang.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://jbrette.github.io/js/util.js"></script>
      <script src="https://jbrette.github.io/js/main.js"></script>
      <script src="https://jbrette.github.io/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

